<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Introduction</title>
    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:500|Raleway" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/arduino-light.min.css">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<root><section><h1>Introduction</h1><p>During this introduction we will dive right into the essentials. From vectors, frames and points to affine combinations, barycentric coordinates and concluding with the basics of drawing curves in a plane.</p><p>If you feel that the following text goes a little bit too quickly or if you are unsure about points and vectors you might want to start with <a href="points-and-vectors.html">points and vectors</a> which sets the stage for some of the concepts and notation that are about to follow.</p><h3>Vector space</h3><p>In a <em>vector</em> space you have two operations. You can add two vectors <mathjax>$\vec{u}$</mathjax> and <mathjax>$\vec{v}$</mathjax> to get a new vector using the so-called <em>parallelogram law</em>.</p><p><mathjax>$$\vec{w} = \vec{u} + \vec{v}\\$$</mathjax></p><p>Or you can <em>scale</em> a vector <mathjax>$\vec{v}$</mathjax> with a constant <mathjax>$c$</mathjax> to create a longer or shorter version. Or even one in the opposite direction if your <em>scalar</em> <mathjax>$c$</mathjax> is negative.</p><p><mathjax>$$\vec{u} = c\vec{v}$$</mathjax></p><p>In computer graphics, we use vectors all the time as directions.</p><h3>Frames</h3><p>A <em>frame</em> is a self-contained vector space. We use frames to move sets of vectors and <em>points</em> around. Every vector or point is always in reference to a frame. The default frame is the <em>world</em> frame.</p><aside>The concept of frames will be more important later. For now, it is important to realize that we are always dealing with vectors and points relatively to some frame of reference.</aside><p>A three-dimensional frame is made up of an <em>origin</em> point as well as three vectors pointing in the direction of the <mathjax>$x$</mathjax>, <mathjax>$y$</mathjax> and <mathjax>$z$</mathjax> axes. Similarly, a two-dimensional frame will have the origin point but only two vectors pointing along the <mathjax>$x$</mathjax> and <mathjax>$y$</mathjax> axes.</p><p>Usually the axes are perpendicular to each other but that does not have to be the case, a frame can have <em>skewed</em> axes for example.</p><p>When we are moving frames around in space we need to keep track of that origin. So in addition to vectors, we also deal with points.</p><aside><p>Structurally, vectors and points are very much the same. On a low level, the two-dimensional vector <mathjax>$\vec{v}$</mathjax> might be indistinguishable from a two-dimensional point <mathjax>$P$</mathjax> if the <mathjax>$x$</mathjax> and <mathjax>$y$</mathjax> components are the same.</p><p>In fact, some graphics frameworks or engines use the same <em>data structure</em> for both points and vectors and this is usually fine in practice. However, it is good to keep in mind that <em>conceptually</em>, vectors and points are not the same at all.</p></aside><h3>Operations with points and vectors</h3><p>There is a few things we can do with points and vectors. We can take a point and add a vector to get another point.</p><p><mathjax>$$Q = P + \vec{v}$$</mathjax></p><p>Similarly, we can get a vector by subtracting two points.</p><p><mathjax>$$\vec{v} = Q - P$$</mathjax></p><p>If we have two points <mathjax>$P_1$</mathjax> and <mathjax>$P_2$</mathjax> we can imagine a line between them. We can get on any point of that line by first getting the vector <mathjax>$\vec{v}$</mathjax> between those points.</p><p><mathjax>$$\vec{v} = P_2 - P_1$$</mathjax></p><p>And then <em>scaling</em> the vector <mathjax>$\vec{v}$</mathjax> with a value <mathjax>$\alpha$</mathjax> where</p><p><mathjax>$$0 \le \alpha \le 1$$</mathjax></p><p>and <mathjax>$\alpha$</mathjax> represents the distance from point <mathjax>$P_1$</mathjax> on the line between <mathjax>$P_1$</mathjax> and <mathjax>$P_2$</mathjax>.</p><p><mathjax>$$\vec{v_{\alpha}} = \alpha\vec{v}$$</mathjax></p><p>Finally, by adding the vector <mathjax>$\vec{v_{\alpha}}$</mathjax> to point <mathjax>$P_1$</mathjax> we arrive on a point <mathjax>$P_{\alpha}$</mathjax> that is <mathjax>$\alpha$</mathjax> units on the line between <mathjax>$P_1$</mathjax> and <mathjax>$P_2$</mathjax>.</p><p><mathjax>$$P_{\alpha} = P_1 + \vec{v_{\alpha}}$$</mathjax></p><p>In practice, we often use <mathjax>$t$</mathjax> instead of <mathjax>$\alpha$</mathjax> so if we write that out using <mathjax>$t$</mathjax> we get</p><p><mathjax>$$\begin{align}
P_t &amp;= P_1 + t(P_2 - P_1)\\
    &amp;= (1 - t)P_1 + tP_2
\end{align}$$</mathjax></p><p>with the last form being the one that is most commonly used in practice. This equation is exactly the same as what is known as <em>linear interpolation</em>.</p><aside><p>The linear interpolation operation, also known as <code>lerp</code> is an operation that frequently crops in all kinds of algorithms. Apart from <em>clamping</em> it is the most basic of interpolation methods and just follows a straight line between two known <em>quantities</em>.</p><p>The code to implement this operation mirrors the math from above exactly.</p><pre><code class="cs"><p>float Lerp1(float v0, float v1, float t) =&gt;<br/>    v0 + t * (v1 - v0);</p><p>float Lerp2(float v0, float v1, float t) =&gt;<br/>    (1 - t) * v0 + t * v1;</p></code></pre><p>The <code>Lerp2</code> version is the one that you will see most commonly used in the wild.</p></aside><p>We do not care about the <em>dimension</em> of the points and vectors we are using. We only assume that they are all of the same dimension. It does not matter whether they are two-dimensional, three-dimensional or n-dimensional.</p><h3>Affine combinations</h3><p>If we have a combination of points such as</p><p><mathjax>$$P = \alpha_1{P_1} + \alpha_2{P_2} + \alpha_3{P_3}$$</mathjax></p><p>where</p><p><mathjax>$$\alpha_1 + \alpha_2 + \alpha_3 = 1$$</mathjax></p><p>then we call that an <em>affine combination</em>.</p><aside>Note that the linear interpolation equation from the previous section is also an affine combination since <mathjax>$1 - t + t = 1$</mathjax>.</aside><p>The vectors plus the points are called an <em>affine space</em>. Affine combinations and affine spaces are essential to computer graphics and we will make heavy use of them.</p><h3>Barycentric coordinates</h3><p>Now suppose we have a triangle with points <mathjax>$P_1$</mathjax>, <mathjax>$P_2$</mathjax> and <mathjax>$P_3$</mathjax>. We can write any point <mathjax>$P$</mathjax> on the surface of that triangle as an affine combination of any two vectors that make up the sides of the triangle in reference to a known point of that triangle.</p><p>Taking <mathjax>$P_1$</mathjax> as the reference point we can define <mathjax>$P$</mathjax> as</p><p><mathjax>$$\begin{align}
P &amp;= P_1 + \alpha_2(P_2 - P_1) + \alpha_3(P_3 - P_1)\\
  &amp;= (1 - \alpha_2 - \alpha_3)P_1 + \alpha_2{P_2} + \alpha_3{P_3}
\end{align}$$</mathjax></p><p>and if we define <mathjax>$\alpha_1 = 1 - \alpha_2 - \alpha_3$</mathjax> we get</p><p><mathjax>$$P = \alpha_1{P_1} + \alpha_2{P_2} + \alpha_3{P_3}$$</mathjax></p><p>where</p><p><mathjax>$$\alpha_1 + \alpha_2 + \alpha_3 = 1$$</mathjax></p><p>proving that this is an affine combination as well.</p><p>With the above we can write any point on the surface of a triangle in terms of the vertices where the <mathjax>$\alpha$</mathjax> values have to add up to one (since it has to be an affine combination).</p><p>Every point has a set of unique <mathjax>$\alpha$</mathjax> values associated with it so we can think of it as a coordinate system for a triangle with the <mathjax>$\alpha$</mathjax> values being the coordinates. This system is more commonly known as <em>barycentric coordinates</em>.</p><h3>Curves</h3><p>Now this is where affine combinations start to become really fun. Given the following innocuously looking polynomials</p><p><mathjax>$$\begin{align}
(&amp;1 - t)^2\\
2t(&amp;1 - t)\\
&amp;t^2
\end{align}$$</mathjax></p><p>what do these sum up to?</p><p>First, let's expand them</p><p><mathjax>$$\begin{align}
(1 - t)^2 &amp;= 1 - 2t + t^2\\
2t(1 - t) &amp;= 2t - 2t^2\\
t^2       &amp;= t^2
\end{align}$$</mathjax></p><p>and next, we will sum them up</p><p><mathjax>$$\begin{align}
1 - 2t + t^2 + 2t - 2t^2 + t^2 &amp;= \\
1 - 2t + 2t - 2t^2 + t^2 + t^2 &amp;= 1
\end{align}$$</mathjax></p><p>Perhaps unsurprisingly, these turn out to sum up to one. Now, if we have three points <mathjax>$P_1$</mathjax>, <mathjax>$P_2$</mathjax> and <mathjax>$P_3$</mathjax> we can write an equation for a new point <mathjax>$P$</mathjax> in terms of these polynomials as</p><p><mathjax>$$P = (1 - t)^2{P_1} + 2t(1 - t)P_2 + t^2{P_3}$$</mathjax></p><p>which is an affine combination since we determined earlier that the polynomials sum up to one. The nice thing about this equation is that we can take any value of <mathjax>$t$</mathjax> where <mathjax>$0 \le t \le 1$</mathjax> and get out a new point.</p><p>If <mathjax>$t = 0$</mathjax> we get <mathjax>$P_1$</mathjax> and if <mathjax>$t = 1$</mathjax> we get <mathjax>$P_3$</mathjax>. For any other value of <mathjax>$t$</mathjax> between one and zero we get a point that lies on a curve controlled by these three points.</p><p>The polynomials that we are using are known as <em>Bernstein polynomials</em> and they have other uses outside computer graphics as well. However, in computer graphics they are most commonly used to draw <em>BÃ©zier curves</em>.</p><p>In this case, the curve that we defined is a <em>parabola</em> but using more points and higher bases of Bernstein polynomials we can draw other curves as well.</p><p>For example, using the Bernstein polynomials</p><p><mathjax>$$\begin{align}
(&amp;1 - t)^3\\
3t(&amp;1 - t)^2\\
3t^2(&amp;1 - t)\\
&amp;t^3
\end{align}$$</mathjax></p><p>and four points <mathjax>$P_1$</mathjax>, <mathjax>$P_2$</mathjax>, <mathjax>$P_3$</mathjax> and <mathjax>$P_4$</mathjax>, we can define the affine combination</p><p><mathjax>$$P = (1 - t)^3{P_1} + 3t(1 - t)^2{P_2} + 3t^2(1 - t){P_3} + t^3{P_4}$$</mathjax></p><p>and draw a <em>cubic curve</em> between four points.</p><aside>These equations can be used in an algorithm that is known as <em>Chaikin's algorithm</em> to draw curves using a given control polygon.</aside></section></root>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
</body>
</html>
"use strict";(function b(c,d,g){function h(m,p){if(!d[m]){if(!c[m]){var q="function"==typeof require&&require;if(!p&&q)return q(m,!0);if(j)return j(m,!0);var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}var w=d[m]={exports:{}};c[m][0].call(w.exports,function(x){var y=c[m][1][x];return h(y?y:x)},w,w.exports,b,c,d,g)}return d[m].exports}var j="function"==typeof require&&require;for(var k=0;k<g.length;k++)h(g[k]);return h})({1:[function(b,c,d){"use strict";$(function(){var g=new ScrollMagic.Controller;$(".js-dim").each(function(h,j){var k=$(j),m=k.data(),p={triggerElement:m.triggerElement?m.triggerElement:j,triggerHook:m.triggerHook?m.triggerHook:0};new ScrollMagic.Scene(p).setClassToggle(j,"is-dimmed").addTo(g)})})},{}],2:[function(b,c,d){$(function(){function g(j){return j/100*$(window).height()}var h=new ScrollMagic.Controller;$(".js-fade").each(function(j,k){var m=new TimelineMax,p=$(k),q=p.data(),v=g(q.duration);m.to(k,1,{opacity:0,display:"none"}),new ScrollMagic.Scene({duration:v}).setTween(m).addTo(h)})})},{}],3:[function(b,c,d){"use strict";b("./pin"),b("./popup"),b("./quote"),b("./text"),b("./fade"),b("./dim"),b("./parallax"),b("./preloader")},{"./dim":1,"./fade":2,"./parallax":4,"./pin":5,"./popup":6,"./preloader":7,"./quote":8,"./text":9}],4:[function(b,c,d){"use strict";$(function(){var g=new ScrollMagic.Controller,h=$(window),j={height:h.height(),width:h.width()};$(".js-parallax").each(function(k,m){var p=$(m),q=p.data()||{},v=q.layer||2,w=p.position().top,x=p.height(),y=new TimelineMax;y.set(m,{position:"fixed",top:j.height});var z={top:-p.height(),ease:Linear.easeNone};y.to(m,1,z);var A=Math.pow(2,v),B={triggerElement:document.body,triggerHook:0.5,offset:w+x/2-j.height*A,duration:j.height*(2*A)};new ScrollMagic.Scene(B).addIndicators().setTween(y).addTo(g)})})},{}],5:[function(b,c,d){$(function(){function g(k){return k/100*$(window).height()}function h(k,m){return m.duration?g(m.duration):k?k.height():0}var j=new ScrollMagic.Controller;j.scrollTo(function(k){$("html body").animate({scrollTop:k})}),$(".js-pin").each(function(k,m){var p=$(m),q=p.data(),v=p.closest(".js-pin-section"),w=h(v,q),x={triggerElement:q.triggerElement?"#"+q.triggerElement:m,triggerHook:q.triggerHook?q.triggerHook:0,offset:q.offset?q.offset:0,duration:w};new ScrollMagic.Scene(x).setPin(m,{pushFollowers:!1}).addTo(j)})})},{}],6:[function(b,c,d){$(function(){function g(){p.show(),setTimeout(function(){p.addClass("is-faded")},10)}function h(){p.removeClass("is-faded"),setTimeout(function(){p.hide()},200)}function j(v){var w=v.find(".js-popup__story"),x=w.data(),y=x.speed||"normal",z=new TimelineMax({paused:!0});return w.find(".js-text").each(function(A,B){var C=$(B),D=C.text().trim(),E=q[y](D);z.from(B,E,{text:"",ease:Linear.easeNone})}),z}function k(){h(),$(".js-popup.is-maximized").each(function(v,w){var x=$(w),y=x.data(),z=x.find(".js-popup__overlay"),A=x.find("iframe"),B=!!(0<A.length)&&new Vimeo.Player(A[0]);B&&B.pause(),z.removeClass("is-hidden"),x.width(y.width),y.left&&x.css("left",y.left),y.right&&x.css("right",y.right),x.removeClass("is-maximized")})}var m=new ScrollMagic.Controller,p=$(".js-blind"),q={xslow:function xslow(v){return v.length/4},slow:function slow(v){return v.length/8},normal:function normal(v){return v.length/16},fast:function fast(v){return v.length/32},xfast:function xfast(v){return v.length/64},xxfast:function xxfast(v){return v.length/128}};p.on("click",function(v){k()}),$(".js-popup").each(function(v,w){var x=$(w),y=x.data(),z=x.find(".js-popup__overlay"),A=x.find(".js-popup__close"),B=j(x),C=x.find("iframe"),D=!!(0<C.length)&&new Vimeo.Player(C[0]);z.on("click",function(E){g(),z.addClass("is-hidden"),x.width(y.popupWidth),y.popupLeft&&x.css("left",y.popupLeft),y.popupRight&&x.css("right",y.popupRight),x.addClass("is-maximized"),B.play(),D&&D.play()}),A.on("click",function(E){k()})}),$(".js-popup__icon").each(function(v,w){var x=$(w),y=x.data()||{},z={triggerElement:y.triggerElement||w,triggerHook:y.triggerHook||0,offset:y.offset||0};new ScrollMagic.Scene(z).setClassToggle(w,"is-visible").addTo(m)})})},{}],7:[function(b,c,d){$(window).on("load",function(){var g=$(".js-preloader");g.addClass("is-faded"),setTimeout(function(){g.addClass("is-hidden")},500)})},{}],8:[function(b,c,d){$(function(){function g(j){var k=j.find(".js-quote__txt"),m=new TimelineMax;return k.each(function(p,q){var v={scale:1,y:45*p,ease:Power2.easeOut};m.fromTo(q,1,{transformOrigin:"100% 50%",scale:0.4},v,"-=0.8")}),m}var h=new ScrollMagic.Controller;$(".js-quote").each(function(j,k){var m=$(k),p=m.data()||{},q=g(m),v={triggerElement:p.triggerElement?p.triggerElement:k,triggerHook:p.triggerHook?p.triggerHook:0.5,offset:p.offset?p.offset:0,duration:$(window).height()/2};new ScrollMagic.Scene(v).setTween(q).addTo(h)})})},{}],9:[function(b,c,d){$(function(){var g={xslow:function xslow(j){return j.length/4},slow:function slow(j){return j.length/8},normal:function normal(j){return j.length/16},fast:function fast(j){return j.length/32},xfast:function xfast(j){return j.length/64},xxfast:function xxfast(j){return j.length/128}},h=new ScrollMagic.Controller;$(".js-story__part").each(function(j,k){var m=new TimelineMax,p=$(k),q=p.data();p.attr("id");var v=q&&q.speed?q.speed:"normal";p.find(".js-text").each(function(y,z){var A=$(z),B=A.text().trim(),C=g[v](B);m.from(z,C,{text:"",ease:Linear.easeNone})});var w=p.find(".js-text--strong");if(m.to(w,0.5,{backgroundSize:"100% 3px, 0% 3px"}),q.foo){var y={opacity:0,ease:Linear.easeNone},z={opacity:1,ease:Linear.easeNone};m.fromTo("#quote-0",1,y,z,"-=0.8"),m.call(function(){$(".js-nudge").addClass("c-scroll-icon--nudge")},[],{},"-=0.8")}var x={triggerElement:q&&q.triggerElement?q.triggerElement:k,triggerHook:q&&q.triggerHook?q.triggerHook:0.5,offset:q&&q.offset?q.offset:0};new ScrollMagic.Scene(x).setTween(m).addTo(h)}),$(".js-story").find(".js-strike").each(function(j,k){var m=new TimelineMax,p=$(k),q=p.find(".js-text--strong"),v=p.data();v.index,m.add([TweenMax.to(k,2,{backgroundSize:"0% 3px, 100% 3px",ease:Linear.easeNone}),TweenMax.to(k,1,{autoAlpha:0.4,ease:Linear.easeNone}),TweenMax.to(q,1,{backgroundSize:"0% 3px, 0% 3px",ease:Power2.easeIn})]);var w={triggerElement:v&&v.triggerElement?v.triggerElement:void 0,triggerHook:v&&v.triggerHook?v.triggerHook:0.5,offset:v&&v.offset?v.offset:0};new ScrollMagic.Scene(w).setTween(m).addTo(h)})})},{}]},{},[3]);

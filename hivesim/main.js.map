{"version":3,"sources":["./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component } from '@angular/core';\n\ninterface System {\n  update(t: number): void;\n}\n\ninterface ResourceSystem {\n  name(): string;\n  costs(): Cost[];\n  enabled(): boolean;\n  visible(): boolean;\n  buy(): void;\n  bverb(): string;\n  update(t: number): void;\n  pps(): number;\n  num(): number;\n  info(): string;\n}\n\ninterface Cost {\n  amount: number;\n  unit: string;\n}\n\nclass State {\n  public hint = \"We have no drones so we need to assemble nanoprobes manually.\";\n  public nanoprobes = 0;\n  public drones = 0;\n  public cubes = 0;\n  public factories = 0;\n  public spaceports = 0;\n}\n\nconst nanoprobesPerDrone = 0.1;\nconst dronesPerCube = 0.01;\nconst cubesPerFactory = 0.01;\n\nclass Hints implements System {\n  constructor(private s: State) {}\n  update(t: number): void {\n    if (this.s.nanoprobes >= 5) {\n      this.s.hint = 'Drones can be assimilated to manufacture nanoprobes for us.';\n    }\n    if (this.s.drones >= 5) {\n      this.s.hint = 'Eventually we can automate more.';\n    }\n    if (this.s.drones >= 10) {\n      this.s.hint = 'Cubes are sent into space to assimilate more drones.';\n    }\n    if (this.s.cubes >= 1) {\n      this.s.hint = null;\n    }\n  }\n}\n\nclass Nanoprobes implements ResourceSystem {\n  constructor(private s: State) {}\n  name() {\n    return 'nanoprobes';\n  }\n  num() {\n    return Math.floor(this.s.nanoprobes);\n  }\n  costs(): Cost[] {\n    return [\n      { amount: 1, unit: 'click' },\n    ];\n  }\n  enabled() {\n    return true;\n  }\n  visible() {\n    return true;\n  }\n  buy(): void {\n    this.s.nanoprobes += 1;\n  }\n  bverb() {\n    return 'assemble';\n  }\n  dverb() {\n    return 'assembles';\n  }\n  update(t: number): void {\n    this.s.nanoprobes += t * this.pps();\n  }\n  pps() {\n    return this.s.drones * nanoprobesPerDrone;\n  }\n  info() {\n    return `Nanoprobes are made by us.`;\n  }\n}\n\nclass Drones implements ResourceSystem {\n  private show = false;\n  constructor(private s: State) {}\n  private nanoprobeCost() {\n    return 10 * Math.pow(1.001, this.s.drones);\n  }\n  name() {\n    return 'drones';\n  }\n  num() {\n    return this.s.drones;\n  }\n  costs(): Cost[] {\n    return [\n      { amount: this.nanoprobeCost(), unit: 'nanoprobes' },\n    ];\n  }\n  enabled() {\n    return this.s.nanoprobes >= this.nanoprobeCost();\n  }\n  visible() {\n    if (this.show) {\n      return true;\n    }\n    if (this.s.nanoprobes >= 5) {\n      this.show = true;\n    }\n    return this.show;\n  }\n  buy() {\n    this.s.nanoprobes -= this.nanoprobeCost();\n    this.s.drones += 1;\n  }\n  bverb() {\n    return 'assimilate';\n  }\n  dverb() {\n    return 'assembles';\n  }\n  update(t: number) {\n    this.s.drones += t * this.pps();\n  }\n  pps() {\n    return this.s.cubes * 0.01;\n  }\n  info() {\n    return `Each drone ${this.dverb()} ${nanoprobesPerDrone} nanoprobes/sec.`;\n  }\n}\n\nclass Cubes implements ResourceSystem {\n  private show = false;\n  constructor(private s: State) {}\n  private nanoprobeCost() {\n    return 500 * Math.pow(1.09, this.s.cubes);\n  }\n  private droneCost() {\n    return 50 * Math.pow(1.15, this.s.cubes);\n  }\n  name() {\n    return 'cubes';\n  }\n  num() {\n    return this.s.cubes;\n  }\n  costs(): Cost[] {\n    return [\n      { amount: this.nanoprobeCost(), unit: 'nanoprobes' },\n      { amount: this.droneCost(), unit: 'drones' },\n    ];\n  }\n  enabled() {\n    return this.s.drones >= this.droneCost() && \n      this.s.nanoprobes >= this.nanoprobeCost();\n  }\n  visible() {\n    if (this.show) {\n      return true;\n    }\n    if (this.s.drones < 10) {\n      return false;\n    }\n    if (this.s.nanoprobes < 25) {\n      return false;\n    }\n    this.show = true;\n    return true;\n  }\n  buy() {\n    this.s.nanoprobes -= this.nanoprobeCost();\n    this.s.drones -= this.droneCost();\n    this.s.cubes += 1;\n  }\n  bverb() {\n    return 'construct';\n  }\n  dverb() {\n    return 'assimilates';\n  }\n  update(t: number) {\n    this.s.cubes += t * this.pps();\n  }\n  pps() {\n    return this.s.factories * 0.01;\n  }\n  info() {\n    return `Each cube ${this.dverb()} ${dronesPerCube} drone/sec.`;\n  }\n}\n\nclass Factories implements ResourceSystem {\n  private show = false;\n  constructor(private s: State) {}\n  private nanoprobeCost() {\n    return 100000 * Math.pow(1.07, this.s.factories);\n  }\n  private droneCost() {\n    return 10000 * Math.pow(1.10, this.s.factories);\n  }\n  name(): string {\n    return 'factories';\n  }\n  costs(): Cost[] {\n    return [\n      { amount: this.nanoprobeCost(), unit: 'nanoprobes' },\n      { amount: this.droneCost(), unit: 'drones' }\n    ];\n  }\n  enabled(): boolean {\n    return this.s.nanoprobes >= this.nanoprobeCost() &&\n      this.s.drones >= this.droneCost();\n  }\n  visible() {\n    if (this.show) { \n      return true;\n    }\n    if (this.s.drones <= 1000) {\n      return false;\n    }\n    if (this.s.cubes <= 10) {\n      return false;\n    }\n    this.show = true;\n    return true;\n  }\n  buy(): void {\n    this.s.nanoprobes -= this.nanoprobeCost();\n    this.s.drones -= this.droneCost();\n  }\n  bverb(): string {\n    return 'build';\n  }\n  dverb(): string {\n    return 'constructs';\n  }\n  update(t: number): void {\n  }\n  pps(): number {\n    return 0; \n  }\n  num(): number {\n    return this.s.factories;\n  }\n  info() {\n    return `Each factory ${this.dverb()} ${cubesPerFactory} cube/sec`;\n  }\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'hivesim';\n  rate = 5;\n\n  state = new State();\n\n  factories = new Factories(this.state);\n  cubes = new Cubes(this.state);\n  drones = new Drones(this.state);\n  nanoprobes = new Nanoprobes(this.state);\n  hints = new Hints(this.state);\n\n  systems: System[] = [this.nanoprobes, this.drones, this.cubes, this.factories, this.hints];\n\n  constructor() {\n    let interval = 1000 / this.rate;\n    var prev = performance.now();\n    setInterval(() => {\n      let now = performance.now();\n      let dt = now - prev;\n      prev = now;\n      let t = dt / 1000;\n      this.update(t);\n    }, interval);\n  }\n\n  update(t: number) {\n    this.systems.forEach(sys => {\n      sys.update(t);\n    });\n  }\n}\n","<div *ngIf=\"state.hint\">\r\n  <p>&gt; <em>{{state.hint}}</em></p>\r\n</div>\r\n<div>\r\n  <h2>{{nanoprobes.name()}}</h2>\r\n  <p>{{nanoprobes.info()}}</p>\r\n  <h3>\r\n    <span>{{nanoprobes.num() | number}} </span>\r\n    <span *ngIf=\"nanoprobes.pps() > 0\">({{nanoprobes.pps() | number}}/sec)</span>\r\n  </h3>\r\n  <button (click)=\"nanoprobes.buy()\">{{nanoprobes.bverb()}}</button>\r\n</div>\r\n<div *ngFor=\"let sys of [drones, cubes, factories]\">\r\n  <div *ngIf=\"sys.visible()\">\r\n  <hr/>\r\n    <h2>{{sys.name()}}</h2>\r\n    <p>{{sys.info()}}</p>\r\n    <h3>\r\n      <span>{{sys.num() | number}} </span>\r\n      <span *ngIf=\"sys.pps() > 0\">({{sys.pps() | number}}/sec)</span>\r\n    </h3>\r\n    <button (click)=\"sys.buy()\" [disabled]=\"!sys.enabled()\">{{sys.bverb()}}</button>  \r\n    <div *ngIf=\"!sys.enabled()\">\r\n      <p *ngFor=\"let cost of sys.costs()\">\r\n        Requires {{cost.amount | number}} {{cost.unit}} to {{sys.bverb()}}.\r\n      </p>  \r\n    </div>\r\n  </div>\r\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}